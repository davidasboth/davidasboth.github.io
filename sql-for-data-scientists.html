<!DOCTYPE html>
<html lang="en">

<head>
	<!-- Required meta tags always come first -->
	<meta charset="utf-8">

	<!-- Global site tag (gtag.js) - Google Analytics -->
	<script async src="https://www.googletagmanager.com/gtag/js?id=G-FMY957X39V"></script>
	<script>
	window.dataLayer = window.dataLayer || [];
	function gtag(){dataLayer.push(arguments);}
	gtag('js', new Date());

	gtag('config', 'G-FMY957X39V');
	</script>



	<!-- Start cookieyes banner -->
    <script id="cookieyes" type="text/javascript" src="https://cdn-cookieyes.com/client_data/2808e7a66d4c9b126f5d2ac9/script.js"></script>
    <!-- End cookieyes banner --> 

	<!-- Favicon stuff -->
	<link rel="apple-touch-icon" sizes="180x180" href="/theme/images/apple-touch-icon.png">
	<link rel="icon" type="image/png" sizes="32x32" href="/theme/images/favicon-32x32.png">
	<link rel="icon" type="image/png" sizes="16x16" href="/theme/images/favicon-16x16.png">
	<link rel="manifest" href="/theme/images/site.webmanifest">

	<meta http-equiv="x-ua-compatible" content="ie=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">

	<title>David Asboth - Data Solutions &amp; Consultancy</title>

	<link rel="canonical" href="/sql-for-data-scientists.html">
	
	<link rel="preconnect" href="https://fonts.googleapis.com">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link href="https://fonts.googleapis.com/css2?family=Atkinson+Hyperlegible:wght@400;700&display=swap" rel="stylesheet"> 
	
	<link rel="stylesheet" href="/theme/css/style.css">
	<link rel="stylesheet" href="/theme/css/pygments.css">


</head>

<body>
	<header id="stickyHeader">
		<div class="container">
			<a href="/"><img src="/theme/images/da-logo.svg" alt="David Asboth logo" id="header-logo"/></a>
			<nav>
				<ul>
					<li>
						<a href="/#solutions">Solutions</a>
					</li>
					<li>
							<a href="/#about">About</a>
					</li>
					<li>
							<a href="/articles">Articles</a>
					</li>
					<li>
					  <a href="#contact" class="button button-filled">Contact</a>
					</li>
				</ul>
			</nav>
		</div>
	</header>


<main id="articles-tutorials">
    <section id="splash">
        <div class="container">
            <h1 class="text-centered">SQL For Data Scientists</h1>
            <div class="text-centered padding-medium"><a class="tag" href="category/programming-for-data-scientists.html">programming for data scientists</a></div>
            <p class="text-centered"><p>SQL is a useful part of a data scientist's toolkit and it can feel like an intimidatingly big area to try and learn alongside all the other data science concepts. I want to present a few key concepts that are enough to get you up and running with SQL!</p></p>
         </div>
    </section>

    <section id="article-content">
        <div class="container">
            
            <p>From what I can tell, the biggest difference between data science
curricula and data science job postings is usually knowledge of SQL. I
assume most businesses want a data scientist who knows SQL because a lot
of corporate data is stored in some sort of relational database. For
some reason though, data science courses don't always tend to teach it
explicitly.</p>
<p>I wanted to collect some of the concepts which I think are useful for
aspiring data scientists to learn about databases and SQL. I'll also
link to appropriate parts of the <a href="http://www.w3schools.com/sql/">w3schools SQL tutorials</a> along the way.</p>
<h2>Query Syntax</h2>
<p>Obviously the first step is to understand how to write a SQL query.</p>
<p>SQL is a <a href="https://en.wikipedia.org/wiki/Declarative_programming">declarative language</a>. All
that means is that when you write a SQL query, you're expressing <strong>what the result should look like, rather than how to achieve it</strong>.</p>
<p>Let's look at a basic SQL query and see how that's the case.</p>
<div class="codehilite"><pre><span></span><code><span class="k">SELECT</span>
<span class="w">    </span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="n">age</span><span class="p">,</span><span class="w"> </span><span class="n">height</span>
<span class="k">FROM</span>
<span class="w">    </span><span class="n">people</span>
<span class="k">WHERE</span>
<span class="w">    </span><span class="n">job</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ss">&quot;data scientist&quot;</span>
</code></pre></div>

<p>SQL is not case sensitive, but I capitalised the keywords (which is a
typical thing to do anyway).</p>
<p>If you know that you have a table of data, called <strong>people</strong>, you can
pretty much work out what this query will do. The declarative syntax
means you can specify the data source (the people table), what you want
to extract (name, age and height) and any filters you want to apply
(only get the data for people who are data scientists).</p>
<p>There is a lot going on under the hood in terms of the computer deciding
how best to store and index the data, but when you write queries you
don't want to have to care about that, you just want your results.</p>
<p>The main keywords you need to know are:</p>
<ul>
<li><a href="http://www.w3schools.com/sql/sql_select.asp">SELECT...FROM</a> (to select rows from a specific table)</li>
<li><a href="http://www.w3schools.com/sql/sql_where.asp">WHERE</a> (to filter
    rows - <em>optional</em>)</li>
<li><a href="http://www.w3schools.com/sql/sql_insert.asp">INSERT</a> (to insert new
    rows)</li>
<li><a href="http://www.w3schools.com/sql/sql_update.asp">UPDATE</a> (to update
    existing rows)</li>
<li><a href="http://www.w3schools.com/sql/sql_delete.asp">DELETE</a> (to remove
    rows)</li>
<li><a href="http://www.w3schools.com/sql/sql_groupby.asp">GROUP BY</a> (to group
    data into... well, groups)</li>
<li><a href="http://www.w3schools.com/sql/sql_create_table.asp">CREATE TABLE</a>
    (to create new tables)</li>
<li><a href="http://www.w3schools.com/sql/sql_alter.asp">ALTER TABLE</a> (to make
    changes to tables like adding new columns)</li>
<li><a href="http://www.w3schools.com/sql/sql_join.asp">JOIN</a> (to join multiple
    tables together)</li>
</ul>
<h2>The JOIN keyword</h2>
<p>I left the JOIN keyword until last in that list because it warrants its
own section.</p>
<p>Merging multiple data sources is a staple data science operation, and
that's no different when working with SQL. If you've used the merge
function in pandas you'll have seen this already, but let's see how they
compare.</p>
<p>Let's take the example of joining two data sources with pandas. One of
them is a csv of people, with names, ages, heights and jobs. The other
is a csv of phone numbers linked to people's names. The name column is
common between both data sources.</p>
<div class="codehilite"><pre><span></span><code><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>

<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s2">&quot;people.csv&quot;</span><span class="p">)</span>
<span class="n">phone_numbers</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s2">&quot;phone_numbers.csv&quot;</span><span class="p">)</span>

<span class="n">merged</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">phone_numbers</span><span class="p">,</span> <span class="n">on</span><span class="o">=</span><span class="s2">&quot;name&quot;</span><span class="p">,</span> <span class="n">how</span><span class="o">=</span><span class="s2">&quot;inner&quot;</span><span class="p">)</span>
</code></pre></div>

<p>That <em>how</em> keyword corresponds to the type of join in SQL. The same
operation in SQL looks like this (assuming we have a people and
phone_numbers table in a database, rather than csv files):</p>
<div class="codehilite"><pre><span></span><code><span class="k">SELECT</span>
<span class="w">  </span><span class="n">people</span><span class="p">.</span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="n">people</span><span class="p">.</span><span class="n">age</span><span class="p">,</span><span class="w"> </span><span class="n">people</span><span class="p">.</span><span class="n">height</span><span class="p">,</span><span class="w"> </span><span class="n">phone_numbers</span><span class="p">.</span><span class="n">phone_number</span>
<span class="k">FROM</span>
<span class="w">  </span><span class="n">people</span>
<span class="w">  </span><span class="k">INNER</span><span class="w"> </span><span class="k">JOIN</span><span class="w"> </span><span class="n">phone_numbers</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">people</span><span class="p">.</span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">phone_numbers</span><span class="p">.</span><span class="n">name</span>
</code></pre></div>

<p>I've specifically stated in the SELECT clause where the columns come
from, because both tables have a name column and SQL would have gotten
confused otherwise.</p>
<p>The types of SQL join correspond to the valid values of the "how"
keyword in the pandas merge function. They are:</p>
<ul>
<li><a href="http://www.w3schools.com/sql/sql_join_inner.asp">Inner Join</a> - only
    rows where both tables have a value are returned</li>
<li><a href="http://www.w3schools.com/sql/sql_join_left.asp">Left Outer Join</a> -
    only rows where the table on the left of the statement has a value
    are returned</li>
<li><a href="http://www.w3schools.com/sql/sql_join_right.asp">Right Outer Join</a> - only rows
    where the table on the right of the statement has a value are
    returned</li>
<li><a href="http://www.w3schools.com/sql/sql_join_full.asp">Full Outer Join</a> -
    all rows are returned from both tables</li>
</ul>
<p>The outer joins let you keep rows from either table if there are no
corresponding rows in the other table.</p>
<p>So a left join in the previous statements would have shown all people,
regardless of whether they had a phone number in the second data source.
The rows of people who don't have a phone number would have shown a NULL
value for the phone number. Using an inner join wouldn't have returned
them at all.</p>
<p>It can be helpful to see this visually, and the w3schools pages do that
already, but <a href="https://blog.codinghorror.com/a-visual-explanation-of-sql-joins/">here's another good example</a>.</p>
<h2>SQL Tools for Data Science</h2>
<p>If you know the basic query syntax and the various join types, you're
probably equipped enough to start pulling data out of any SQL database.
Programmers working with SQL often use specific tools to access
databases, such as Microsoft's SQL Server Management Studio.</p>
<p>However, as a data scientist you may want to do this straight from your
code instead. You have a few options for this.</p>
<ul>
<li>You can <a href="http://www.datacarpentry.org/python-ecology-lesson/08-working-with-sql">connect to sqlite</a></li>
<li>You can use SQL queries in pandas <a href="http://blog.yhat.com/posts/pandasql-sql-for-pandas-dataframes.html">using pandasql</a></li>
<li>pandas also allows <a href="http://pandas.pydata.org/pandas-docs/stable/generated/pandas.read_sql.html">connecting to SQL sources</a></li>
</ul>
<p>Also, if you're familiar with pandas but not with SQL, the pandas
documentation has a section with <a href="http://pandas.pydata.org/pandas-docs/stable/comparison_with_sql.html">pandas commands and the associated SQL queries</a>.</p>
<h2>Conclusion</h2>
<p>I'd argue that's all you need to get up and running.</p>
<p>W3schools is a great interactive resource to test your sql queries, but
there are plenty of other good learning resources like
<a href="https://www.codecademy.com/learn/learn-sql">Codecademy</a>.</p>
<p>There is more to know of course about relational databases. I haven't
covered the concepts of primary keys, foreign keys, or indexes because
these are more important for database design rather than data retrieval.
Designing a relational database has its own set of skills and required
knowledge, but if your only interaction is retrieving data, you
shouldn't have to worry about it.</p>
<p>I may write a post about database design in the future, but I'd strongly
argue that it's an optional skill for most data scientists.</p><script src="//platform.twitter.com/widgets.js" charset="utf-8"></script>

        </div>
    </section>

<section id="about">
    <div class="container flex-container">
      <div class="col-40 image-full">
            <img src="/theme/images/David-Asboth-profile-image-square.jpg">
        </div>
      <div class="col-60">
        <h2>About David</h2>
        <p>I'm a freelance data scientist, consultant, and educator with an MSc. in Data Science and a background in software and web development. I'm a generalist; my previous roles have been a range of data science, software development, and software architecting jobs.</p>
        <p class="text-pre-heading">Things I also do:</p>
        <ul>
          <li>
            I co-host the <a href="https://halfstackdatascience.com">Half Stack Data Science podcast</a> where we talk about the realities of data science in the business world
            </li>
          <li>
            I've written various <a href="/articles">articles and tutorials</a> about data science
          </li>
          <li>
            I've given a selection of talks at large conferences and universities, all on similar topics of "real world data science"
            </li>
          <li>
            I occasionally stream some data science over on <a href="https://www.twitch.tv/jazzsloth">Twitch</a>, where I take a vague project idea, a dataset, and try to come up with an answer in about an hour, explaining the code and thought process as I go.
            </li>
          </ul>
        </div>
      </div>
    </section>
<section id="contact">
<div class="container flex-container">
  <div class="col-40 image-full">
	<img src="/theme/images/DataScienceFestival-02-contact.jpg">
	</div>
  <div class="col-60">
	<h2>Contact me</h2>
	<p>Please give me a brief idea of what you're looking for help with, and I'll get back to you very soon. If you're having trouble with the form below, you can also email me at <a href="mailto:hello@davidasboth.com" target="_blank">hello@davidasboth.com</a></p>
	<form action="https://api.formcake.com/api/form/184308c0-d548-4a26-ae33-db870931e16d/submission" method="POST">
	  <input type="text" name="name" placeholder="Name *" required>
	  <input type="email" name="email" placeholder="Email address *" required>
	  <select name="service-required" required>
		<option value="" disabled selected hidden>What are you looking for help with?</option>
		<option value="consulting-largeorg" >Consulting for a large organisation</option>
		<option value="consulting-smallbiz" >Consulting for a small business/startup</option>
		<option value="education-staff" >Education for staff members</option>
		<option value="mentoring-1to1" >Mentoring 1:1s for students/career newbies</option>
		 <option value="other" >Other</option>
		</select>
	  <textarea placeholder="Message *" name="message" required></textarea>
	  <input type="text" name="spiderweb" style="display: none">
		  <input type="submit" class="button button-filled" value="Get in touch!">
		  <a class="icon" href="https://twitter.com/davidasboth"><img src="/theme/images/icon-twitter.svg" alt="Twitter"/></a>
		  <a class="icon" href="https://www.linkedin.com/in/david-asboth-9256772b"><img src="/theme/images/icon-linkedin.svg" alt="LinkedIn"/></a>
	  </form>
	</div>
  </div>
</section></main>


	<footer>
		<div class="container flex-container">
			<p>© 2023 David Asboth. Site designed with love by <a href="http://design.barbasboth.com/">Barbara Asboth</a>. All Rights Reserved.</p>
			<p>hello@davidasboth.com</p>
		</div>
	</footer>
	<script>
	// Add the sticky class to the header when you reach its scroll position. Remove "sticky" when you leave the scroll position
		
	var header = document.getElementById("stickyHeader");

	// Get the offset position of the navbar
	var sticky = header.offsetTop + '180';
	function toggleStickyHeader() {
	  if (window.pageYOffset > sticky) {
		header.classList.add("sticky");
	  } else {
		header.classList.remove("sticky");
	  }
	}
	window.onscroll = function() {toggleStickyHeader()};
	</script>
</body>

</html>